import{r as l,j as e,A as _,m as y,a as g,b as u}from"./index-Bc2C47TS.js";import{a as h,A as p}from"./types-pZI0g1wz.js";const x="_topBlock_pmjgw_23",w="_header_pmjgw_31",f="_title_pmjgw_36",v="_description_pmjgw_45",r={topBlock:x,header:w,title:f,description:v},I=async i=>{try{const s=await h.get(`/projects/${i}`);return console.log(s.data),s.data}catch(s){console.error("Ошибка при получении данных",s)}},k="_primary_kw634_1",N="_primaryImg_kw634_8",P="_masonry_kw634_13",$="_item_kw634_24",E="_overlay_kw634_35",b="_fullscreenImage_kw634_50",c={primary:k,primaryImg:N,masonry:P,item:$,overlay:E,fullscreenImage:b};function L({primaryImages:i,secondaryImages:s}){const[n,a]=l.useState(null),[m,j]=l.useState(window.innerWidth<600);l.useEffect(()=>{const t=()=>{j(window.innerWidth<600)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const o=t=>{t.target.classList.contains(c.overlay)&&a(null)};return e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:c.primary,children:i.map((t,d)=>e.jsx("img",{src:`${p}${t}`,alt:`Image ${d}`,className:c.primaryImg}))}),s&&e.jsx("div",{className:c.masonry,children:s.map((t,d)=>e.jsx("div",{className:c.item,onClick:()=>{m||a(t)},children:e.jsx("img",{src:`${p}${t}`,alt:`Image ${d}`})},d))}),e.jsx(_,{children:n&&e.jsx(y.div,{className:c.overlay,onClick:o,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx(y.img,{src:`${p}${n}`,alt:"Fullscreen",className:c.fullscreenImage,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3}})})})]})}function S(){const s=g().state,{id:n}=u(),[a,m]=l.useState(null);return l.useEffect(()=>{s?m(s):(async()=>{try{const o=await I(n);m(o)}catch(o){console.log(o)}})()},[s,n]),a?e.jsxs("div",{className:r.projectPage,children:[e.jsxs("div",{className:r.topBlock,children:[e.jsxs("div",{className:r.header,children:[e.jsx("h1",{className:r.title,children:a.title}),e.jsx("span",{className:r.subTitle,children:"subtitle"})]}),e.jsx("span",{className:r.description,children:a.fullDescription})]}),e.jsx(L,{primaryImages:a.primaryImages,secondaryImages:a.secondaryImages})]}):e.jsx(e.Fragment,{})}export{S as default};

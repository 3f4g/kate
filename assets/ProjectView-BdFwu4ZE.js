import{r as _,j as e,A as y,m as g,a as f,b as v}from"./index-tJAmGtZP.js";import{a as u,A as d}from"./types-BBU4GZhI.js";const I="_topBlock_5wv58_23",N="_header_5wv58_37",$="_title_5wv58_42",w="_text_5wv58_51",P="_description_5wv58_56",o={topBlock:I,header:N,title:$,text:w,description:P},q=async m=>{try{const t=await u.get(`/projects/${m}`);return console.log(t.data),t.data}catch(t){console.error("Ошибка при получении данных",t)}},W="_primary_qo9f8_1",k="_primaryImg_qo9f8_8",E="_masonry_qo9f8_13",L="_item_qo9f8_24",b="_overlay_qo9f8_41",A="_fullscreenImage_qo9f8_56",B="_verticalWrapper_qo9f8_66",C="_verticalItem_qo9f8_73",D="_someWrapper_qo9f8_91",a={primary:W,primaryImg:k,masonry:E,item:L,overlay:b,fullscreenImage:A,verticalWrapper:B,verticalItem:C,someWrapper:D};function S({primaryImages:m,secondaryImages:t,vertical:c,last:r}){const[p,n]=_.useState(null),[l,h]=_.useState(window.innerWidth<600);_.useEffect(()=>{const s=()=>{h(window.innerWidth<600)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const j=s=>{s.target.classList.contains(a.overlay)&&n(null)},x=()=>e.jsx("div",{className:a.verticalWrapper,children:c.map((s,i)=>e.jsx("div",{className:a.verticalItem,onClick:()=>{l||n(s)},children:e.jsx("img",{src:`${d}${s}`,alt:`Image ${i}`})},i))});return e.jsxs(e.Fragment,{children:[m&&e.jsx("div",{className:a.primary,children:m.map((s,i)=>e.jsx("img",{src:`${d}${s}`,alt:`Image ${i}`,className:a.primaryImg}))}),e.jsxs("div",{className:a.someWrapper,style:{gap:`${c&&c.length>=1?"16px":"0px"}`},children:[c&&c.length<2&&x(),t&&e.jsx("div",{className:a.masonry,children:t.map((s,i)=>e.jsx("div",{className:a.item,onClick:()=>{l||n(s)},children:e.jsx("img",{src:`${d}${s}`,alt:`Image ${i}`})},i))})]}),c&&c.length>1&&x(),r&&e.jsx("div",{className:a.primary,children:r.map((s,i)=>e.jsx("img",{src:`${d}${s}`,alt:`Image ${i}`,className:a.primaryImg}))}),e.jsx(y,{children:p&&e.jsx(g.div,{className:a.overlay,onClick:j,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx(g.img,{src:`${d}${p}`,alt:"Fullscreen",className:a.fullscreenImage,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3}})})})]})}function R(){const t=f().state,{id:c}=v(),[r,p]=_.useState(null);return _.useEffect(()=>{t?p(t):(async()=>{try{const l=await q(c);p(l)}catch(l){console.log(l)}})()},[t,c]),r?e.jsxs("div",{className:o.projectPage,children:[e.jsxs("div",{className:o.topBlock,children:[e.jsxs("div",{className:o.header,children:[e.jsx("h1",{className:o.title,children:r.title}),e.jsx("span",{className:o.subTitle,children:r.shortDescription})]}),e.jsx("div",{className:o.text,children:r.fullDescription.map(n=>e.jsx("span",{className:o.description,children:n}))})]}),e.jsx(S,{primaryImages:r.primaryImages,secondaryImages:r.secondaryImages,vertical:r.vertical,last:r.last})]}):e.jsx(e.Fragment,{})}export{R as default};
